% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/prepare_annotations_sirius.R
\name{prepare_annotations_sirius}
\alias{prepare_annotations_sirius}
\title{Prepare annotations SIRIUS}
\usage{
prepare_annotations_sirius(
  input_directory = get_params(step =
    "prepare_annotations_sirius")$files$annotations$raw$sirius,
  output_ann = get_params(step =
    "prepare_annotations_sirius")$files$annotations$prepared$structural$sirius,
  output_can = get_params(step =
    "prepare_annotations_sirius")$files$annotations$prepared$canopus,
  output_for = get_params(step =
    "prepare_annotations_sirius")$files$annotations$prepared$formula,
  sirius_version = get_params(step = "prepare_annotations_sirius")$tools$sirius$version,
  str_stereo = get_params(step =
    "prepare_annotations_sirius")$files$libraries$sop$merged$structures$stereo,
  str_met = get_params(step =
    "prepare_annotations_sirius")$files$libraries$sop$merged$structures$metadata,
  str_nam = get_params(step =
    "prepare_annotations_sirius")$files$libraries$sop$merged$structures$names,
  str_tax_cla = get_params(step =
    "prepare_annotations_sirius")$files$libraries$sop$merged$structures$taxonomies$cla,
  str_tax_npc = get_params(step =
    "prepare_annotations_sirius")$files$libraries$sop$merged$structures$taxonomies$npc
)
}
\arguments{
\item{input_directory}{Character path to directory or zip file containing
SIRIUS results.}

\item{output_ann}{Character path for prepared structure annotation output.}

\item{output_can}{Character path for prepared CANOPUS output.}

\item{output_for}{Character path for prepared formula output.}

\item{sirius_version}{Character SIRIUS version ("5" or "6").}

\item{str_stereo}{Character path to structure stereochemistry file.}

\item{str_met}{Character path to structure metadata file.}

\item{str_nam}{Character path to structure names file.}

\item{str_tax_cla}{Character path to ClassyFire taxonomy file.}

\item{str_tax_npc}{Character path to NPClassifier taxonomy file.}
}
\value{
Character path to the prepared SIRIUS annotations file (invisible).
}
\description{
Prepares SIRIUS annotation results (structure predictions,
CANOPUS chemical classifications, and formula predictions) by harmonizing
formats across SIRIUS versions (v5/v6), standardizing column names, and
integrating with structure metadata.
}
\details{
This function:
\itemize{
\item Validates inputs (version, paths, file existence).
\item Loads SIRIUS output files (CANOPUS, formulas, structures, denovo).
\item Harmonizes column names across SIRIUS v5 and v6.
\item Joins with structure metadata (stereochemistry, names, taxonomy).
\item Splits results into three output files: annotations, CANOPUS, formulas.
\item Exports parameters and results.
}

If the input directory does not exist, returns an empty template with expected
columns to ensure downstream compatibility.
}
\examples{
\dontrun{
copy_backbone()
go_to_cache()
prepare_annotations_sirius()
unlink("data", recursive = TRUE)
}
}
