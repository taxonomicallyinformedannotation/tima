% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/c_wrappers.R
\name{gnps_wrapper}
\alias{gnps_wrapper}
\title{Wrapper for the C function "gnps"}
\usage{
gnps_wrapper(x, y)
}
\arguments{
\item{x}{Numeric matrix with matched peaks from query spectrum.
Must have columns for mz and intensity.}

\item{y}{Numeric matrix with matched peaks from target spectrum.
Must have columns for mz and intensity.}
}
\value{
A list containing:
\item{score}{Numeric similarity score (0-1)}
\item{matches}{Integer count of matched peaks}
}
\description{
Calculates GNPS-style spectral similarity score between
two matched peak matrices using a chain-DP optimal assignment
algorithm (O(n+m) time).

\if{html}{\out{<div class="sourceCode">}}\preformatted{**Spectra must be sanitized** before calling this function:
unique m/z values (no duplicates within tolerance), sorted by m/z,
no NaN/NA. This is guaranteed by [sanitize_spectra()] via
[import_spectra()]. See [sanitize_spectrum_matrix()] for a
lightweight fallback.
}\if{html}{\out{</div>}}
}
\examples{
\dontrun{
# Matched peaks from two spectra
x_peaks <- cbind(mz = c(100, 200), intensity = c(50, 100))
y_peaks <- cbind(mz = c(100, 200), intensity = c(45, 95))
result <- gnps_wrapper(x = x_peaks, y = y_peaks)
print(result$score)
}
}
\keyword{internal}
