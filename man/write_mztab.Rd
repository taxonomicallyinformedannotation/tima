% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/write_mztab.R
\name{write_mztab}
\alias{write_mztab}
\title{Write TIMA Annotations to mzTab-M Format}
\usage{
write_mztab(
  annotations,
  original_mztab = NULL,
  output,
  top_n = 3,
  score_threshold = 0
)
}
\arguments{
\item{annotations}{Character string path to TIMA annotation results (TSV/CSV)
Typically the output from weight_annotations()}

\item{original_mztab}{Character string path to original mzTab-M file.
If NULL, creates a new mzTab from annotations.}

\item{output}{Character string path for output mzTab-M file}

\item{top_n}{Integer number of top annotations per feature to include
(default: 3). Set to NULL for all annotations.}

\item{score_threshold}{Numeric minimum score threshold for inclusion
(default: 0). Only annotations with score >= threshold are included.}
}
\value{
Character string path to written mzTab-M file (invisibly)
}
\description{
Takes TIMA annotation results and writes them back into mzTab-M
format, either updating an existing mzTab file or creating a new one.
Annotations are added as additional columns to the Small Molecule table
with TIMA scores, structural identifiers, and taxonomic classifications.
}
\examples{
\dontrun{
# Write TIMA annotations back to mzTab-M
write_mztab(
  annotations = "data/output/tima_annotations.tsv",
  original_mztab = "data/source/experiment.mztab",
  output = "data/output/experiment_annotated.mztab",
  top_n = 3,
  score_threshold = 0.5
)
}
}
