% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/filter_high_confidence_only.R
\name{filter_high_confidence_only}
\alias{filter_high_confidence_only}
\title{Filter high confidence only
\ifelse{html}{\href{https://lifecycle.r-lib.org/articles/stages.html#experimental}{\figure{lifecycle-experimental.svg}{options: alt='[Experimental]'}}}{\strong{[Experimental]}}}
\usage{
filter_high_confidence_only(
  df,
  score_bio_min = DEFAULT_HC_SCORE_BIO_MIN,
  score_ini_min = DEFAULT_HC_SCORE_INITIAL_MIN,
  score_final_min = DEFAULT_HC_SCORE_FINAL_MIN,
  error_rt_max = DEFAULT_HC_MAX_RT_ERROR_MIN,
  confidence_sirius_min = DEFAULT_HC_SCORE_SIRIUS_MIN,
  similarity_spectral_min = DEFAULT_HC_SCORE_SPECTRAL_MIN,
  context = NULL
)
}
\arguments{
\item{df}{Data frame containing annotation results with score columns}

\item{score_bio_min}{Numeric minimum biological score threshold (default: 0.85). Range: 0-1}

\item{score_ini_min}{Numeric minimum initial score threshold (default: 0.95). Range: 0-1}

\item{score_final_min}{Numeric minimum final (chemical) score threshold (default: 0.75). Range: 0-1}

\item{error_rt_max}{Numeric maximum retention time error in minutes (default: 0.05). Must be > 0}

\item{confidence_sirius_min}{Numeric minimum SIRIUS confidence score threshold (optional). Range: 0-1}

\item{similarity_spectral_min}{Numeric minimum spectral similarity threshold (optional). Range: 0-1}

\item{context}{Optional character string to tag logs with a stage label (e.g.,
"mini+filtered" or "full"). Defaults to NULL (no tag).}
}
\value{
Data frame containing only high-confidence annotations that meet
at least one score threshold and pass RT error filtering
}
\description{
This function filters annotation results to retain only
high-confidence candidates based on multiple scoring criteria
(biological, initial, chemical) and retention time accuracy.
}
\details{
Columns used when present:
\itemize{
\item score_biological
\item candidate_score_pseudo_initial
\item score_weighted_chemo
\item candidate_structure_error_rt (assumed in minutes; NA means unknown and is allowed)
\item candidate_score_sirius_confidence (optional)
\item candidate_similarity (optional)
}

Missing score columns are treated as absent for that criterion and do not
cause errors; at least one of the three primary scores must satisfy its
threshold for a row to be retained.
}
\examples{
NULL
}
